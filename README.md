# Booth VRChat 의상 검색기 v2.0

VRChat 아바타에 대응하는 의상을 Booth.pm에서 검색하는 데스크톱 애플리케이션입니다.

## 주요 기능

### 기본 기능
- **아바타 이름으로 검색**: 일본어 아바타 이름을 입력하면 해당 아바타에 대응하는 의상을 검색합니다.
- **인기 아바타 목록**: 자주 사용되는 VRChat 아바타 목록을 제공합니다. (외부 JSON으로 관리)
- **카테고리 필터**: 3D 의상, 액세서리 등 카테고리별로 필터링할 수 있습니다.
- **썸네일 미리보기**: 상품 썸네일 이미지를 바로 확인할 수 있습니다.
- **바로가기**: 상품 카드를 클릭하면 Booth.pm 페이지로 바로 이동합니다.

### v2.0 신규 기능
- **검색 필터**: 정렬 (최신/인기/가격순), 가격 범위, 무료만 필터
- **무한 스크롤**: 스크롤 하단 도달 시 자동으로 다음 페이지 로드
- **검색 취소**: 검색 중 취소 가능
- **이미지 캐시**: 메모리 + 디스크 LRU 캐시로 빠른 이미지 로딩
- **결과 캐시**: SQLite 기반 검색 결과 캐싱 (30분 TTL)
- **최근 검색어**: 최근 검색한 아바타 기록 및 빠른 재검색
- **사용자 설정**: 창 크기, 필터 설정 등 자동 저장

## 설치 방법

### 요구 사항

- Python 3.9 이상
- Windows / macOS / Linux

### 설치

1. 저장소를 클론하거나 다운로드합니다.

2. 의존성 패키지를 설치합니다:
   ```bash
   pip install -r requirements.txt
   ```

3. 프로그램을 실행합니다:
   ```bash
   python main.py
   ```

## 사용 방법

1. **아바타 이름 입력**
   - 직접 입력: 검색창에 아바타 이름을 일본어로 입력합니다. (예: 桔梗, セレスティア, マヌカ)
   - 목록에서 선택: "인기 아바타" 드롭다운에서 원하는 아바타를 선택합니다.

2. **카테고리 선택** (선택사항)
   - 전체, 3D 의상, 3D 캐릭터, 3D 액세서리 등의 카테고리로 필터링할 수 있습니다.

3. **검색**
   - 🔍 검색 버튼을 클릭하거나 Enter 키를 누릅니다.

4. **결과 확인**
   - 검색 결과가 카드 형태로 표시됩니다.
   - 각 카드에는 상품명, 가격, 판매자, 썸네일이 표시됩니다.
   - 카드를 클릭하면 해당 상품의 Booth.pm 페이지가 브라우저에서 열립니다.

## 인기 아바타 목록

- 桔梗 (키쿄)
- セレスティア (셀레스티아)
- マヌカ (마누카)
- 舞夜 (마이야)
- ルーシュカ (루슈카)
- リーファ (리파)
- サフィー (사피)
- シフォン (시폰)
- 萌 (모에)
- ここあ (코코아)
- イメリス (이메리스)
- チューベローズ (튜베로즈)

## EXE 빌드 방법

Windows에서 실행 파일(.exe)을 만들려면:

```bash
# PyInstaller 설치 (requirements.txt에 포함됨)
pip install pyinstaller

# 빌드 실행
pyinstaller build.spec
```

빌드가 완료되면 `dist` 폴더에 `BoothSearcher.exe` 파일이 생성됩니다.

### 간단한 빌드 명령어

spec 파일 없이 빌드하려면:

```bash
pyinstaller --onefile --windowed --name BoothSearcher main.py
```

## 프로젝트 구조 (v2.0)

```
booth_searcher/
├── main.py              # 메인 진입점
├── __version__.py       # 버전 정보
├── build.py             # 빌드 스크립트
├── requirements.txt     # 의존성
│
├── config/              # 설정
│   ├── settings.py      # 앱 설정
│   ├── constants.py     # 상수 정의
│   └── user_prefs.py    # 사용자 환경설정
│
├── models/              # 데이터 모델
│   ├── booth_item.py    # 상품 모델
│   ├── search_params.py # 검색 파라미터
│   └── search_result.py # 검색 결과
│
├── scraping/            # 스크래핑 엔진
│   ├── booth_client.py  # HTTP 클라이언트
│   ├── rate_limiter.py  # 레이트 리미터
│   └── parsers/         # HTML 파서
│
├── cache/               # 캐시 시스템
│   ├── image_cache.py   # 이미지 LRU 캐시
│   └── result_cache.py  # SQLite 결과 캐시
│
├── core/                # 비즈니스 로직
│   ├── search_service.py # 검색 오케스트레이션
│   └── cache_service.py  # 캐시 통합
│
├── gui/                 # GUI
│   ├── main_window.py   # 메인 윈도우
│   ├── workers/         # 백그라운드 워커
│   ├── widgets/         # UI 위젯
│   └── dialogs/         # 다이얼로그
│
├── data/                # 데이터 파일
│   └── popular_avatars.json  # 인기 아바타 목록
│
└── utils/               # 유틸리티
    ├── logging.py       # 로깅
    ├── paths.py         # 경로 관리
    └── exceptions.py    # 예외 정의
```

## 기술 스택

- **Python 3.10+**
- **PyQt6**: GUI 프레임워크
- **urllib3**: HTTP 클라이언트 (재시도/백오프)
- **BeautifulSoup4**: HTML 파싱 (다중 셀렉터 폴백)
- **SQLite3**: 검색 결과 캐시
- **PyInstaller**: EXE 빌드

## 주의사항

- 이 프로그램은 Booth.pm의 검색 결과를 스크래핑합니다.
- Booth.pm의 웹사이트 구조가 변경되면 프로그램이 정상 작동하지 않을 수 있습니다.
- 과도한 요청은 피해주세요.

## 라이선스

이 프로젝트는 개인적인 용도로 자유롭게 사용할 수 있습니다.

## 문제 해결

### 검색 결과가 없는 경우
- 아바타 이름의 철자를 확인하세요.
- 일본어(히라가나, 카타카나, 한자)로 입력해야 합니다.
- 인기 아바타 목록에서 선택해보세요.

### 프로그램이 실행되지 않는 경우
- Python 3.9 이상이 설치되어 있는지 확인하세요.
- 모든 의존성 패키지가 설치되어 있는지 확인하세요: `pip install -r requirements.txt`

### 이미지가 로드되지 않는 경우
- 인터넷 연결을 확인하세요.
- 방화벽이나 프록시 설정을 확인하세요.
